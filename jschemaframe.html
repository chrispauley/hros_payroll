<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>HROS Payroll - JSchema</title>

  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <link rel='stylesheet' href='style.css'/>
  <script type="text/javascript">
  function resizeIframe(obj){
    var h = window.innerHeight;
    var w = window.innerWidth;
    // console.log('w:', w);
     obj.style.height = 0;
     obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
     obj.style.width = 1200+'px';
    //  obj.style.width = obj.contentWindow.document.body.scrollWidth + 'px';
  }
  function loadPayrollType(){
    var newUrl='JSchema/index.htm?#schema=/schema/payroll/json/PayrollType.json';
    document.getElementById('iframeID').src=newUrl;
  }
  function loadPayrollProcessTypeType(){
    var newUrl='JSchema/index.htm?#schema=/schema/payroll/json/PayrollProcessType.json';
    document.getElementById('iframeID').src=newUrl;
  }
</script>
</head>

<body>
  <header>
    <div id='top-nav'></div>
  </header>
  <hr/>

  <div class='container main-content' style="margin-top: 40px;">

    <div class='row'>
      <div class='col-md-12'>
        <div>
            <p className='text-muted'>Please click on this link to load the schema:
                <a target='_new' onClick='loadPayrollType()'>PayrollType.json</a>
                <a target='_new' onClick='loadPayrollProcessTypeType()'>PayrollProcessType.json</a>
            </p>
        </div>
      </div>
    </div>
    <div class='row'>
      <div class='col-md-12'>
        <iframe id='iframeID' src='JSchema/index.htm' frameborder='0' onload='resizeIframe(this)'></iframe>
      </div>
    </div>

    <div class='row'>
        <hr/>
        <div class='col-md-12'>
            <p className='text-muted'>This page uses the JSchema web application in an iframe. It doesn't work from the gh-pages branch of the repo because of CORS issues. It does work when it is hosted in a docker container on AWS.
            </p>
        </div>
    </div>
  </div>

  <div id='footer'></div>
  <script src="jschemapage.bundle.js"></script>
</body>

</html>
