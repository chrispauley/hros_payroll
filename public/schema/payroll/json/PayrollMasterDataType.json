{
    "$schema": "http://schema.hropenstandards.org/4_0/common/json/meta/hros.json",
    "version": "4.2.1",
    "title": "PayrollMasterDataType",
    "description": "Provides the information needed to process a payroll.",
    "type": "object",
    "allOf": [
        { "$ref": "../../common/json/base/NounType.json#" }
    ],
    "properties": {
        "documentIDGroup": { "$ref": "../../common/json/base/IdGroupType.json#" },
        "documentSequence": { "type": "integer", "minimum": 0 },
        "documentDateTime": { "$ref": "../../common/json/base/DateTimeType.json#" },
        "lastModificationDateTime": { "$ref": "../../common/json/base/DateTimeType.json#" },
        "organizationIdentifiers": { "$ref": "#/definitions/OrganizationIdentifiersType" },
        "payee": { "$ref": "#/definitions/PayrollPayeeType" },
        "payrollDeployments": { "type": "array", "items": { "$ref": "#/definitions/PayrollDeploymentType" } },
        "paymentInstructions": { "type": "array", "items": { "$ref": "PaymentInstructionType.json#" } },
        "generalDeductionInstructions": { "type": "array", "items": { "$ref": "GeneralDeductionInstructionType.json#" } },
        "benefitDeductionInstructions": { "type": "array", "items": { "$ref": "BenefitDeductionInstructionType.json#" } },
        "taxInstructions": { "$ref": "TaxInstructionsType.json#" },
        "garnishmentDeductionInstruction": { "type": "array", "items": { "$ref": "GarnishmentDeductionInstructionType.json#" } }
    },

    "definitions": {
        "CompanyCarType": {
            "description": "",
            "type": "object",
            "properties": {
                "id": { "$ref": "../../common/json/base/IdentifierType.json#" },
                "carArrangementId": { "$ref": "../../common/json/base/IdentifierType.json#" },
                "listPriceAmount": { "$ref": "../../common/json/base/AmountType.json#" }
            }
        },

        "OrganizationIdentifiersType": {
            "description": "A collection of different identifiers of an Organization.",
            "type": "object",
            "properties": {
                "organizationIds": {
                    "type": "array",
                    "items": { "$ref": "../../common/json/base/IdentifierType.json#" }
                },
                "organizationName": { "$ref": "#/definitions/OrganizationNameType" },
                "organizationTaxId": {
                    "type": "array",
                    "items": { "$ref": "../../common/json/base/IdentifierType.json#" }
                },
                "organizationLegalId": {
                    "type": "array",
                    "items": { "$ref": "../../common/json/base/IdentifierType.json#" }
                }
            }
        },
        "OrganizationNameType": {
            "description": "An organization name. Attributes allow the designation of language content and effective dating.",
            "type": "object",
            "allOf": [
                { "$ref": "../../common/json/base/EffectiveTimePeriod.json#" },
                { "$ref": "../../common/json/base/TextType.json#" }
            ]
        },

        "PayrollPayeeType": {
            "description": "The worker who is being paid by the payroll system.",
            "type": "object",
            "allOf": [
                { "$ref": "../../common/json/person/PersonLegalType.json#" }
            ],
            "properties": {
                "educationLevelCode": { "$ref": "../../common/json/base/CodeType.json#" },
                "studentIndicator": { "$ref": "../../common/json/base/IndicatorType.json#" },
                "studentTypeCode": { "$ref": "../../common/json/base/CodeType.json#" },
                "originalHireDate": { "$ref": "../../common/json/base/DateTimeType.json#" },
                "hireDate": { "$ref": "../../common/json/base/DateTimeType.json#" },
                "personNames": { "$ref": "../../common/json/person/PersonNameTypeArray.json#" }
            }
        },

        "PayrollDeploymentType": {
            "description": "Properties of the position(s) for which the worker is being Onboarded in Payroll.",
            "type": "object",
            "allOf": [
                { "$ref": "../../common/json/base/EffectiveTimePeriod.json#" }
            ],
            "properties": {
                "resourceRelationshipCode": { "$ref": "../../common/json/codelist/ResourceRelationshipCodeList.json#" },
                "payrollStatus": {
                    "description": "Payroll deployment status",
                    "type": "object",
                    "properties": {
                        "status": { "enum": ["active", "inactive", "leaveOfAbsence"] },
                        "description": { "type": "string" },
                        "effectiveDate": { "$ref": "../../common/json/base/DateType.json#" },
                        "reason": { "enum": ["New Hire", "Rehire", "Termination", "Transfer"] }
                    }
                },
                "workLocations": { "type": "array", "items": { "$ref": "../../common/json/organization/WorkLocationType.json#" } },
                "job": { "$ref": "../../common/json/work/JobType.json#" },
                "ProfessionalCode": { "type": "string" },
                "careerLevelCode": { "$ref": "../../common/json/codelist/CareerLevelCodeList.json#" },
                "workActivityCode": {
                    "description": "A code classifying the type of activities associated to a given job. Used in countries such as France and Mexico.",
                    "$ref": "../../common/json/base/CodeType.json#"
                },
                "positionId": { "$ref": "../../common/json/base/IdentifierType.json#" },
                "positionTitle": {
                    "description": "A short phrase describing the position as it would be listed on a business card or in a company directory. OED: An appellation attaching to a position in virtue of rank, function or office.",
                    "type": "string"
                },
                "primaryIndicator": {
                    "description": "Indicates primary deployment.",
                    "$ref": "../../common/json/base/IndicatorType.json#"
                },
                "workSchedules": {
                    "note": "Probably should not be an array.",
                    "description": "Schedules for the worker.",
                    "type": "array",
                    "items": { "$ref": "../../common/json/work/ScheduleType.json#" }
                },
                "dutyEntryDates": {
                    "description": "The date the employee or human resource actually begins work or enters on duty.",
                    "type": "array",
                    "items": { "$ref": "../../common/json/base/FormattedDateTimeType.json#" }
                },
                "workLevelCode": {
                    "description": "A code classifying the position as full-time or part-time.",
                    "$ref": "../../common/json/base/CodeType.json#"
                },
                "wageHourLawCoverageCode": {
                    "description": "A code indicating whether the work or position is covered under applicable labor law relating to working hours, overtime, and similar protections.",
                    "enum": ["exempt", "non-exempt"]
                },
                "employmentTermCode": {
                    "description": "A code classifying whether employment is regular status (i.e., without a scheduled or known end date) or temporary (employment with a known or scheduled to end).",
                    "$ref": "../../common/json/codelist/EmploymentTermCodeList.json#"
                },
                "nationalityContextCode": {
                    "description": "A code classifying an employee status as domestic, inpatriot, expatriate, etc.",
                    "$ref": "../../common/json/codelist/WorkerAssignmentSourceCodeList.json#"
                },
                "laborBargainingUnit": {
                    "NOTE": "TODO: This needs to be an object of LaborBargainingUnitType.",
                    "description": "Identifiers of the Labor Bargaining Unit for the deployment.",
                    "$ref": "../../common/json/base/CodeType.json#"
                },
                "supplementaryPensionType": {
                    "NOTE": "This is a status code with effective dates.",
                    "description": "Drives the level of both employee and employer contribution for the supplementary pension funds.",
                    "type": "object",
                    "properties": {
                        "typeCode": { "$ref": "../../common/json/base/CodeType.json#" },
                        "validFrom": { "$ref": "../../common/json/base/DateTimeType.json#" },
                        "validTo": { "$ref": "../../common/json/base/DateTimeType.json#" }
                    }
                },
                "companyCar": { "$ref": "#/definitions/CompanyCarType" },
                "remunerationBasisCode": {
                    "NOTE": "TODO: Should be an enumeration.",
                    "description": "A code classifying the primary method of payment for the associated position or employment. This classifies the method by which remuneration for a position is provided or calculated.",
                    "$ref": "../../common/json/base/CodeType.json#"
                },
                "laborAllocation": {
                    "description": "The allocation details of the associated earning.",
                    "type": "object",
                    "properties": {
                        "id": { "$ref": "../../common/json/base/IdentifierType.json#" },
                        "typeCode": { "$ref": "../../common/json/base/CodeType.json#" },
                        "amount": { "$ref": "../../common/json/base/AmountType.json#" },
                        "percentage": { "$ref": "../../common/json/base/PercentType.json#" },
                        "basisCode": { "$ref": "../../common/json/base/CodeType.json#" },
                        "basis": { "$ref": "../../common/json/base/AmountType.json#" }
                    }
                },
                "payrollRuleName": {
                    "description": "Identifies a rule in the payroll system that defines which remuneration pay rates are modified, and how they are modified. For example, Remuneration Type of Overtime should be paid at 1.5 times the regular rate.",
                    "type": "string"
                },
                "payrollRemunerations": {
                    "description": "Defines remunerations for the deployment.",
                    "type": "array",
                    "items": { "$ref": "PayrollRemunerationType.json#" }
                },
                "contractAgreementTimePeriod": {
                    "description": "Time Period for a Contract Agreement for the deployment.",
                    "type": "object",
                    "properties": {
                        "startDateTime": { "$ref": "../../common/json/base/DateTimeType.json#" },
                        "endDateTime": { "$ref": "../../common/json/base/DateTimeType.json#" },
                        "inclusiveIndicator": { "$ref": "../../common/json/base/IndicatorType.json#" },
                        "duration": { "$ref": "../../common/json/base/DurationType.json#" }
                    }
                },
                "allocationPercentage": { "$ref": "../../common/json/base/PercentType.json#" }

            }
        }

    }
}
